{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","value","target","setState","handleSubmit","e","preventDefault","onSubmit","props","this","className","styles","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","id","webformatURL","tags","openModal","largeImageURL","onClick","src","alt","ImageGalleryItemImage","ImageGallery","list","galleryElems","map","item","Loader","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleClickBackdrop","currentTarget","window","addEventListener","removeEventListener","children","createPortal","Overlay","Button","handleClick","App","hits","loading","showModal","currentPage","perPage","listRef","createRef","console","log","handleQuery","toggleModal","axios","get","then","data","prevProps","prevState","snapshot","scrollTo","top","behavior","length","current","scrollHeight","ref","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c9912cf3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__B0DD2\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1pkXs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__282VF\",\"Modal\":\"Modal_Modal__1w06p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2J62k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__ypEwl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__uh1N2\"};","import {Component} from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  }\r\n  \r\n  handleChange = ({ target }) => {\r\n    const {value} = target\r\n    // const { query } = this.state;\r\n    this.setState({query: value})\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const { onSubmit } = this.props\r\n    onSubmit(this.state)\r\n  }\r\n\r\n  render() {\r\n    const { handleChange, handleSubmit } = this\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n  <form onSubmit={handleSubmit} className={styles.SearchForm}>\r\n    <button type=\"submit\" className={styles.SearchFormButton}>\r\n      <span className={styles.SearchFormButtonLabel}>Search</span>\r\n    </button>\r\n\r\n    <input\r\n      className={styles.SearchFormInput}\r\n      type=\"text\"\r\n      autoComplete=\"off\"\r\n      autoFocus\r\n      placeholder=\"Search images and photos\"\r\n      onChange={handleChange }\r\n    />\r\n  </form>\r\n</header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;","import React from 'react';\r\n\r\nimport styles from './ImageGalleryItem.module.css';\r\n// id, webformatURL, largeImageURL\r\n\r\nconst ImageGalleryItem = ({ id, webformatURL, tags, openModal, largeImageURL }) => (\r\n            <li onClick={() => openModal(largeImageURL)} id={id} className={styles.ImageGalleryItem}>\r\n                <img src={webformatURL} alt={tags} className={styles.ImageGalleryItemImage} />\r\n            </li>\r\n);\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ list, openModal }) => {\r\n    const galleryElems = list.map(item => <ImageGalleryItem openModal={openModal}  key={item.id} {...item}/>)\r\n\r\n    return (\r\n    <ul className={styles.ImageGallery}>\r\n        {galleryElems}\r\n    </ul>\r\n    )\r\n};\r\n\r\nexport default ImageGallery;","import React from 'react';\r\n\r\nconst Loader = () => (\r\n    <h2>Lodaing ...</h2>\r\n);\r\n\r\nexport default Loader;","import {Component} from 'react';\r\nimport {createPortal} from 'react-dom'\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\")\r\n\r\nclass Modal extends Component {\r\n\r\n    componentDidMount() {\r\n        window.addEventListener(\"keydown\", this.handleKeyDown)\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"keydown\", this.handleKeyDown)\r\n    }\r\n\r\n    handleKeyDown = e => {\r\n        if (e.code === 'Escape' || e.code === \"Backspace\") {\r\n            this.props.onClose()\r\n        }\r\n    }\r\n\r\n    handleClickBackdrop = e => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.onClose()\r\n        }\r\n    }\r\n    \r\n    render() {\r\n    const {children} = this.props\r\n    return createPortal(\r\n        \r\n        <div onClick={this.handleClickBackdrop} className={styles.Overlay}>\r\n            <div className={styles.Modal}>\r\n                {children}\r\n            </div>\r\n        </div>, modalRoot,\r\n    );\r\n}\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\n\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ handleClick }) => (\r\n    <button onClick={handleClick} type='button' className={styles.Button}>Load More</button>\r\n);\r\n\r\nexport default Button;","import { Component, createRef } from 'react';\nimport styles from './App.module.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport axios from 'axios'\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Loader from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\nimport Button from './components/Button/Button';\n\n  class App extends Component {\n    state = {\n      hits: [],\n      query: '',\n      loading: false,\n      showModal: false,\n      src: null,\n      currentPage: 1,\n      perPage: 12\n    }\n    \n    componentDidMount() {\n      const { query, currentPage, perPage} = this.state\n      \n      axios.get(`https://pixabay.com/api/?q=${query}&page=${currentPage}&key=20962897-331ac5a967e647c87b669ac14&image_type=photo&orientation=horizontal&per_page=${perPage}`)\n        .then(({data}) => { \n          this.setState({ hits: data.hits });\n          console.log(data.hits);\n      })\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n      const {query, loading, currentPage, perPage } = this.state\n      if (loading) {\n      axios.get(`https://pixabay.com/api/?q=${query}&page=${currentPage}&key=20962897-331ac5a967e647c87b669ac14&image_type=photo&orientation=horizontal&per_page=${perPage}`)\n          .then(({data}) => { \n          this.setState(({hits}) => ({hits: [...hits, ...data.hits], loading:false }));\n        })\n      }\n\n\n      if (snapshot !== null) {\n        window.scrollTo({\n          top: snapshot,\n          behavior: 'smooth',\n        })\n      }\n\n    }\n\n    listRef = createRef()\n\n    getSnapshotBeforeUpdate(prevProps, prevState) {\n      if (prevState.hits.length < this.state.hits.length) {\n        const { current } = this.listRef\n        return current.scrollHeight\n      }\n      return null\n    }\n    \n    handleClick = () => {\n            // this.setState({ hits: data.hits, loading: false });\n      const {currentPage} = this.state\n            this.setState(() => ({\n              currentPage: currentPage + 1,\n               loading: true\n              // hits: data.hits, loading: false,\n      }));\n        console.log(this.state)\n\n    }\n\n    handleQuery = ({ query }) => {\n      this.setState({\n        query,\n        loading: true,\n        hits: [],\n        currentPage: 1\n      })\n    }\n\n    toggleModal = () => {\n      this.setState(({ showModal }) => ({\n        showModal: !showModal\n      }));\n    }\n\n    openModal = (src) => {\n      this.toggleModal()\n      this.setState({\n        src\n      })\n    }\n\n    render() {\n      const { handleQuery, toggleModal, openModal, handleClick} = this\n      const {loading, showModal, src} = this.state\n      return (\n        <div className={styles.App}>\n          <Searchbar onSubmit={handleQuery} />\n          <div ref={this.listRef}>\n\n          <ImageGallery\n            openModal={openModal}\n            list={this.state.hits} />\n          </div>\n          \n\n          {loading && <Loader />}\n          {showModal && <Modal onClose={toggleModal}>\n            <img src={src} alt=\"\" />\n          </Modal>}\n          <Button handleClick={handleClick}/>\n        </div>\n      );\n    }\n  } \n  \n  export default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__eUbJw\",\"SearchForm\":\"Searchbar_SearchForm__ZdfpC\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1_7hp\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1ApD6\",\"SearchFormInput\":\"Searchbar_SearchFormInput__ZDmYn\"};"],"sourceRoot":""}